# 105 Introduction to Work With Data In LWC
- **Base Lightning Components built on Lightning Data Service**: Fácil de implementar mas menor flexibilidade, basicamente o LWC
- **Lightning Data Service wire adapter and Functions**: Fácil de usar e maior flexibilidade do que *Base Components*
- **Apex**: Complexa mas extremamente flexível

# 106 Lightning Data Service
- **Lightning Data Service (LDS)** é basicamente uma estrutura de cache de dados centralizada, é construída sobre a interface API do usuário, o qual funciona da seguinte forma:
```
Ida: Browser:LWC -> Browser:Cache -> Server:UI/API -> Server:Database
Volta: Browser:LWC <- Browser:Cache <- Server:UI/API <- Server:Database
```
- Na Ida, o LWC faz uma requisição de um dado de algum registro, por exemplo, o registro de uma *Account*, em seguida é verificado no cache se há dados dessa requisição armazenados, se não houver, a requisição é enviada ao *Server* passando primeiramente pela UI/API e por fim, buscando no Banco de dados, se houver o dado solicitado, ele é retornado como resposta da chamada
- Na Volta, o BD envia a resposta, passando pela UI/API, por sua vez, passa pelo cache armazenando uma cópia dos dados da resposta e por fim, entregue ao LWC
- Se houver uma segunda requisição para o mesmo registro, será verificado primeiro no cache, se houver os dados desse registro, então é retornado os dados do cache ao invés de continuar a chamada até chegar ao BD

### Benefícios
1. LDS é uma estrutura de cache de dados centralizada e construída sobre a interface API do usuário
2. Quando é efetuada uma requisição ao BD, a resposta é composta por metadados e dados, ambos em respostas diferentes, a função da UI/API é converter as respostas em uma única. A UI/API respeita o acesso CRUD, a segurança em nível de campo e as configurações de compartilhamento
3. LDS exibe apenas registros no campo para o qual o usuário tenha acesso e a segurança a nível de campo
4. LDS cacheia o resultado no *Client*, o que foi explicado anteriormente
5. LDS invalida uma entrada de cache quando os dados ou metadados são alterados
6. Otimização de chamada ao servidor

# 107 Base Lightning Components
Base Lightning Components são construídos no Lightning Data Service; LDS é usado nos bastidores pelos *Base Lightning Components* os quais herdam seus recursos de cache e sincronização. Há três tipos de *Base Lightning Components* que são criados no LDS:
1. lightning-record-form - suporta edit, view e readOnly
2. lightning-record-edit-form - exibe um formulário editável
3. lightning-record-view-form - exibe um formulário de visualização
- com lightning-record-form é possível especificar um layout e permitir admins configurarem campos no form declarativamente. Também pode especificar uma lista ordenada de campos para definir programaticamente o que será exibido.

### Quando usar
- quando necessário uma UI baseada em metadados ou em formulários, semelhante à páginna de detalhes do registro
- exibir valores dos registros com base nos metadados de campo
- ocultar o exibir *localized field labels*
- exibir texto de ajuda no campo personalizado
- executar uma validação do lado do cliente e aplicar *validation rules*
